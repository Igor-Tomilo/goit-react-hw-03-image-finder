{"version":3,"sources":["components/services/image-api.js","components/ImageErrorView/ImageErrorView.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Searchbar/Searchbar.js","components/ImageInfo/ImageInfo.js","App.js","index.js"],"names":["KEY","searchName","page","a","fetch","response","ok","json","Promise","reject","Error","fetchImage","ImageErrorView","message","role","ImageLoader","type","color","height","width","Component","ImageGalleryItem","image","toggleModal","className","src","webformatURL","alt","tags","onClick","status","largeImageURL","ImageGallery","images","map","id","modalRoot","document","querySelector","Modal","handleKeyDown","event","key","target","currentTarget","props","window","addEventListener","this","removeEventListener","createPortal","Button","Searchbar","state","imageName","changeInput","evt","setState","value","handleSubmit","preventDefault","trim","onSubmit","toast","onChange","autoComplete","autoFocus","placeholder","ImageInfo","totalHits","searchQuery","isLoading","error","notify","showModal","activeButton","targetImage","onClickLoadMore","prevState","checkLoadMore","length","searchImages","prevProps","then","newImage","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"gSAAMA,EAAM,qC,4CACZ,WAA0BC,EAAYC,GAAtC,eAAAC,EAAA,sEACyBC,MAAM,8BAAD,OACIH,EADJ,iBACuBC,EADvB,gBACmCF,EADnC,yDAD9B,YACQK,EADR,QAIeC,GAJf,yCAKWD,EAASE,QALpB,uBAOeC,QAAQC,OAAO,IAAIC,MAAJ,cAP9B,oF,sBAUeC,M,8CCGAC,MAZf,YAAsC,IAAZC,EAAW,EAAXA,QACxB,OACE,qBAAKC,KAAK,QAAV,SACE,gDAAmBD,Q,iBCOVE,G,6KANX,OACE,cAAC,IAAD,CAAQC,KAAK,OAAOC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,S,GAHnCC,cCoBXC,EAtBU,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAU/B,OACI,oBAAIC,UAAU,mBAAd,SACI,qBACIC,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,KACXJ,UAAU,yBACVK,QAdI,WACZN,EAAY,CACRO,QAAQ,EACRL,IAAKH,EAAMS,cACXJ,IAAKL,EAAMM,aCSRI,EAdM,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQV,EAAkB,EAAlBA,YAC9B,OACE,oBAAIC,UAAU,eAAd,SACGS,EAAOC,KAAI,SAAAZ,GAAK,OACf,cAAC,EAAD,CACEA,MAAOA,EAEPC,YAAaA,GADRD,EAAMa,UCNfC,EAAYC,SAASC,cAAc,eAiC1BC,E,4MArBXC,cAAgB,SAAAC,GACM,WAAdA,EAAMC,KAAoBD,EAAME,SAAWF,EAAMG,eACjD,EAAKC,MAAMtB,YAAY,CAACO,QAAQ,K,kEATxCgB,OAAOC,iBAAiB,UAAWC,KAAKR,iB,6CAIxCM,OAAOG,oBAAoB,UAAWD,KAAKR,iB,+BASjC,IAAD,EAEgBQ,KAAKH,MAAlBpB,EAFH,EAEGA,IAAKE,EAFR,EAEQA,IAEb,OAAOuB,uBACH,qBAAK1B,UAAU,UAAUK,QAASmB,KAAKR,cAAvC,SACI,qBAAKhB,UAAU,QAAf,SACI,qBAAKC,IAAKA,EAAKE,IAAKA,QAG5BS,O,GA1BQhB,aCKL+B,EARA,SAAC,GAAiB,IAAftB,EAAc,EAAdA,QAChB,OACE,wBAAQb,KAAK,SAASQ,UAAU,SAASK,QAASA,EAAlD,wB,QCkDWuB,G,kNA/CXC,MAAQ,CACJC,UAAW,I,EAGfC,YAAc,SAAAC,GACV,EAAKC,SAAS,CAAEH,UAAWE,EAAIb,OAAOe,S,EAG1CC,aAAe,SAAAlB,GACXA,EAAMmB,iBAE8B,KAAhC,EAAKP,MAAMC,UAAUO,QAKzB,EAAKhB,MAAMiB,SAAS,EAAKT,MAAMC,WAC/B,EAAKG,SAAS,CAAEH,UAAW,MALvBS,YAAM,mB,uDASV,OACI,wBAAQvC,UAAU,YAAlB,SACI,uBAAMA,UAAU,aAAasC,SAAUd,KAAKW,aAA5C,UACI,wBAAQ3C,KAAK,SAASQ,UAAU,oBAAhC,SACI,cAAC,IAAD,MAEJ,uBACIkC,MAAOV,KAAKK,MAAMC,UAClBU,SAAUhB,KAAKO,YACf/B,UAAU,mBACVR,KAAK,OACLiD,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAnCZ/C,cCqJTgD,E,4MAjJbf,MAAQ,CACNpB,OAAQ,GACRoC,UAAW,EACXC,YAAa,GACbpE,KAAM,EACNqE,WAAW,EACXC,MAAO,KACPC,QAAQ,EACR5D,QAAS,GACT6D,WAAW,EACXC,cAAc,EACdC,YAAa,M,EAuDfd,SAAW,SAAAJ,GACT,EAAKD,SAAS,CAAEa,YAAaZ,K,EAG/BmB,gBAAkB,WAChB,EAAKpB,UAAS,SAAAqB,GAAS,MAAK,CAC1B5E,KAAM4E,EAAU5E,KAAO,O,EAI3B6E,cAAgB,WAAO,IAAD,EACU,EAAK1B,MAA3BgB,EADY,EACZA,UAEJA,EAHgB,EACDpC,OAEI+C,OACrB,EAAKvB,SAAS,CAAEkB,cAAc,IAE9B,EAAKlB,SAAS,CAAEkB,cAAc,IAG3BN,EAMH,EAAKZ,SAAS,CAAEgB,QAAQ,IALxB,EAAKhB,SAAS,CACZ5C,QAAS,gCACT4D,QAAQ,K,EAOdlD,YAAc,YAA2B,IAAxBO,EAAuB,EAAvBA,OAAQL,EAAe,EAAfA,IAAKE,EAAU,EAAVA,IACxBG,EACF,EAAK2B,SAAS,CACZmB,YAAa,CAAEnD,MAAKE,OACpB+C,WAAW,IAGb,EAAKjB,SAAS,CACZmB,YAAa,KACbF,WAAW,K,kEAzFf1B,KAAKiC,iB,yCAGYC,EAAWJ,GAAY,IAAD,EACT9B,KAAKK,MAA3BiB,EAD+B,EAC/BA,YAAapE,EADkB,EAClBA,KAEjB4E,EAAUR,cAAgBA,IAC5BtB,KAAKiC,aAAaX,EAAa,GAC/BtB,KAAKS,SAAS,CAAEvD,KAAM,KAEpB4E,EAAU5E,OAASA,GACrB8C,KAAKiC,aAAaX,EAAapE,K,qCAGQ,IAAD,OAA5BoE,EAA4B,uDAAd,GAAIpE,EAAU,uDAAH,EACjB,KAAhBoE,GACFtB,KAAKS,SAAS,CACZc,WAAW,EACXE,QAAQ,IAGV9D,EAAW2D,EAAapE,GACrBiF,MAAK,SAAAC,GACS,IAATlF,EACF,EAAKuD,SAAS,CACZY,UAAWe,EAASf,UACpBpC,OAAQmD,EAASC,QAGnB,EAAK5B,UAAS,SAAAqB,GAAS,MAAK,CAC1B7C,OAAO,GAAD,mBAAM6C,EAAU7C,QAAhB,YAA2BmD,EAASC,WAE5CvC,OAAOwC,SAAS,CACdC,IAAKlD,SAASmD,gBAAgBC,aAC9BC,SAAU,YAGd,EAAKX,mBAENY,OAAM,SAAAnB,GAAK,OAAI,EAAKf,SAAS,CAAEe,aAC/BoB,SAAQ,kBAAM,EAAKnC,SAAS,CAAEc,WAAW,QAE5CvB,KAAKS,SAAS,CACZxB,OAAQ,GACR0C,cAAc,EACd9D,QAAS,8BACT4D,QAAQ,M,+BAgDJ,IAAD,EAUHzB,KAAKK,MARPpB,EAFK,EAELA,OACAsC,EAHK,EAGLA,UACAC,EAJK,EAILA,MACAC,EALK,EAKLA,OACA5D,EANK,EAMLA,QACA6D,EAPK,EAOLA,UACAE,EARK,EAQLA,YACAD,EATK,EASLA,aAGF,OACE,qCACE,cAAC,EAAD,CAAWb,SAAUd,KAAKc,WACzBU,GAAS,cAAC,EAAD,CAAiB3D,QAAS2D,EAAM3D,UACzC0D,GACC,cAAC,EAAD,IAEDtC,EAAO+C,OAAS,GACf,cAAC,EAAD,CAAc/C,OAAQA,EAAQV,YAAayB,KAAKzB,cAEjDkD,GAAU,cAAC,EAAD,CAAiB5D,QAASA,IACpC6D,GACC,cAAC,EAAD,CACEjD,IAAKmD,EAAYnD,IACjBE,IAAKiD,EAAYjD,IACjBJ,YAAayB,KAAKzB,cAGrBoD,GAAgB,cAAC,EAAD,CAAQ9C,QAASmB,KAAK6B,yB,GA5IvBzD,aCLHyE,E,4MACjBxC,MAAQ,CACJC,UAAW,I,EAGfwC,iBAAmB,SAAAxC,GACf,EAAKG,SAAS,CAAEH,e,uDAIhB,OACI,qCACI,cAAC,EAAD,CAAWA,UAAWN,KAAKK,MAAMC,YACjC,cAAC,IAAD,CAAgByC,UAAW,a,GAbV3E,a,MCCjC4E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7D,SAAS8D,eAAe,W","file":"static/js/main.c668ae53.chunk.js","sourcesContent":["const KEY = '20689084-4283bca478c3982aa5e3eeb23';\nasync function fetchImage(searchName, page) {\n  const response = await fetch(\n    `https://pixabay.com/api/?q=${searchName}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  if (response.ok) {\n    return response.json();\n  }\n  return await Promise.reject(new Error(`No images`));\n}\n\nexport default fetchImage;\n","import PropTypes from 'prop-types';\n\nfunction ImageErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <h1>Nothing here. {message}</h1>\n    </div>\n  );\n}\n\nImageErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ImageErrorView;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass ImageLoader extends Component {\n  render() {\n    return (\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n    );\n  }\n}\n\nexport default ImageLoader;","import React from 'react';\n\nconst ImageGalleryItem = ({ image, toggleModal }) => {\n\n    const onClick = () => {\n        toggleModal({\n            status: true,\n            src: image.largeImageURL,\n            alt: image.tags,\n        });\n    };\n        \n    return (\n        <li className=\"ImageGalleryItem\">\n            <img\n                src={image.webformatURL}\n                alt={image.tags}\n                className=\"ImageGalleryItem-image\"\n                onClick={onClick}\n            />\n        </li>\n    );\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n    };\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    };\n\n    handleKeyDown = event => {\n        if (event.key === 'Escape' || event.target === event.currentTarget) {\n            this.props.toggleModal({status: false});\n        }\n    };\n\n    render() {\n      \n        const { src, alt } = this.props;\n\n        return createPortal(\n            <div className=\"Overlay\" onClick={this.handleKeyDown}>\n                <div className=\"Modal\">\n                    <img src={src} alt={alt} />\n                </div>\n            </div>,\n            modalRoot,\n        );\n    };\n};\n\nexport default Modal;","import React from 'react';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n    state = {\n        imageName: '',\n    };\n\n    changeInput = evt => {\n        this.setState({ imageName: evt.target.value });\n    };\n\n    handleSubmit = event => {\n        event.preventDefault();\n\n        if (this.state.imageName.trim() === '') {\n            toast('Enter the word');\n            return;\n        }\n\n        this.props.onSubmit(this.state.imageName);\n        this.setState({ imageName: '' });\n    };\n\n    render() {\n        return (\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <ImSearch />\n                    </button>\n                    <input\n                        value={this.state.imageName}\n                        onChange={this.changeInput}\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                    />\n                    \n                </form>\n            </header>\n        );\n    };\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\n\nexport default Searchbar;","import React, { Component } from 'react';\nimport fetchImage from '../services/image-api';\nimport ImagesErrorView from '../ImageErrorView';\nimport ImageLoader from '../Loader';\nimport ImageGallery from '../ImageGallery';\nimport Modal from '../Modal';\nimport Button from '../Button';\nimport Searchbar from '../Searchbar';\n\nclass ImageInfo extends Component {\n  state = {\n    images: [],\n    totalHits: 0,\n    searchQuery: '',\n    page: 1,\n    isLoading: false,\n    error: null,\n    notify: false,\n    message: '',\n    showModal: false,\n    activeButton: false,\n    targetImage: null,\n  };\n\n  componentDidMount() {\n    this.searchImages();\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.searchImages(searchQuery, 1);\n      this.setState({ page: 1 });\n    }\n    if (prevState.page !== page) {\n      this.searchImages(searchQuery, page);\n    }\n  };\n   searchImages(searchQuery = '', page = 1) {\n    if (searchQuery !== '') {\n      this.setState({\n        isLoading: true,\n        notify: false,\n      });\n\n      fetchImage(searchQuery, page)\n        .then(newImage => {\n          if (page === 1) {\n            this.setState({\n              totalHits: newImage.totalHits,\n              images: newImage.hits,\n            });\n          } else {\n            this.setState(prevState => ({\n              images: [...prevState.images, ...newImage.hits],\n            }));\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n          this.checkLoadMore();\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    } else {\n      this.setState({\n        images: [],\n        activeButton: false,\n        message: 'Please input search request',\n        notify: true,\n      });\n    }\n  };\n\n  onSubmit = value => {\n    this.setState({ searchQuery: value });\n  };\n\n  onClickLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  checkLoadMore = () => {\n    const { totalHits, images } = this.state;\n\n    if (totalHits > images.length) {\n      this.setState({ activeButton: true });\n    } else {\n      this.setState({ activeButton: false });\n    }\n\n    if (!totalHits) {\n      this.setState({\n        message: 'Nothing was found. Try again.',\n        notify: true,\n      });\n    } else {\n      this.setState({ notify: false });\n    }\n  };\n\n  toggleModal = ({ status, src, alt }) => {\n    if (status) {\n      this.setState({\n        targetImage: { src, alt },\n        showModal: true,\n      });\n    } else {\n      this.setState({\n        targetImage: null,\n        showModal: false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      notify,\n      message,\n      showModal,\n      targetImage,\n      activeButton,\n    } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <ImagesErrorView message={error.message} />}\n        {isLoading && (\n          <ImageLoader />\n        )}\n        {images.length > 0 && (\n          <ImageGallery images={images} toggleModal={this.toggleModal} />\n        )}\n        {notify && <ImagesErrorView message={message} />}\n        {showModal && (\n          <Modal\n            src={targetImage.src}\n            alt={targetImage.alt}\n            toggleModal={this.toggleModal}\n          />\n        )}\n        {activeButton && <Button onClick={this.onClickLoadMore} />}\n      </>\n    );\n  }\n}\n\nexport default ImageInfo;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport ImageInfo from './components/ImageInfo';\n\nexport default class App extends Component {\n    state = {\n        imageName: '',\n    };\n\n    handleFormSubmit = imageName => {\n        this.setState({ imageName });\n    };\n\n    render() {\n        return (\n            <>\n                <ImageInfo imageName={this.state.imageName} />\n                <ToastContainer autoClose={2000} />\n            </>\n        );\n    };\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}